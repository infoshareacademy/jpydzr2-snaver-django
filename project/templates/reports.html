{% extends "layouts/base.html" %}
{% load mathfilters %}

{% block title %} Reports - TEST {% endblock %}

<!-- Specific Page CSS goes HERE  -->
{% block stylesheets %}

{% endblock stylesheets %}

{% block content %}

    <a href="{% url "reports_select" prev_month.year prev_month.month|stringformat:"02d" %}">
        <button class="btn btn-primary btn-round">&lt;</button>
    </a>
    {{ view.kwargs.year }}-{{ view.kwargs.month }}
    <a href="{% url "reports_select" next_month.year next_month.month|stringformat:"02d" %}">
        <button class="btn btn-primary btn-round">&gt;</button>
    </a>

    <div class="row">
        <div class="col-md-12">
            <div class="card">
                <div class="card-header card-header-primary">
                    <h4 class="card-title ">Charts for you budget</h4>
                    <p class="card-category">in {{ view.kwargs.year }}-{{ view.kwargs.month }}</p>
                </div>
                <div class="card-body">

                    {# !!!>>> Chart number 0 #}
                    Chart number 0
                    <div id="donutchart" style="width: 900px; height: 900px;"></div>
                    <br>
                    <br>

                </div>
            </div>
        </div>
    </div>

{# !!!>>> Chart number 1 #}
    Chart number 1
    <div id="piechart" style="width: 900px; height: 500px;"></div>
    <br>
    <br>

{# !!!>>> Chart number 2 #}
    Chart number 2
    <div id="chartContainer" style="height: 370px; width: 100%;"></div>
    <script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
    <br>
    <br>

{# !!!>>> Chart number 3 #}
    Chart number 3
    <div id="chart_div" style="width: 800px; height: 600px"></div>
    <br>
    <br>

{# !!!>>> Chart number 4 and 5 #}
    Chart number 4 and 5
    <div class="row">
      <div class="col-md-12 text-center">
        <h1>Make Google charts responsive</h1>
        <p>Full blog post details <a href="http://flopreynat.com/blog/make-google-charts-responsive.html">on my blog</a></p>
      </div>
      <div class="col-md-4 col-md-offset-4">
        <hr />
      </div>
      <div class="clearfix"></div>
      <div class="col-md-6">
        <div id="chart_div1" class="chart"></div>
      </div>
      <div class="col-md-6">
        <div id="chart_div2" class="chart"></div>
      </div>
    </div>

{% endblock content %}





<!-- Specific Page JS goes HERE  -->
{% block javascripts %}

  <script>
    $(document).ready(function() {
      // Javascript method's body can be found in assets/js/demos.js
      md.initDashboardPageCharts();

    });
  </script>

{# !!!>>> SCRIPT FOR Chart number 0 #}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load("current", {packages:["corechart"]});
      google.charts.setOnLoadCallback(drawChart);
      function drawChart() {
        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          {% for details in object_list.0 %}
              ['{{ details.subcategory.name }}', {{ details.budgeted_amount }}],
          {% endfor %}
        ]);

        var options = {
          title: 'CHART FOR SUBCATEGORIES AGAINST BUDGETED AMOUNTS',
          titleTextStyle: {fontSize: 20},
          backgroundColor: {fill: 'transparent'},
          pieHole: 0.3,
        };

        var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
        chart.draw(data, options);
      }
    </script>

{# !!!>>> SCRIPT FOR Chart number 1 #}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);

      function drawChart() {

        var data = google.visualization.arrayToDataTable([
          ['Task', 'Hours per Day'],
          ['Work',     11],
          ['Eat',      2],
          ['Commute',  2],
          ['Watch TV', 2],
          ['Sleep',    7],
          ['coś tam', 12],
          ['jeszcze coś', 0.3],
          ['i coś', 3]
        ]);

        var options = {
          title: 'My Daily Activities'
        };

        var chart = new google.visualization.PieChart(document.getElementById('piechart'));

        chart.draw(data, options);
      }

        function resizeChart () {
            chart.draw(data, options);
        }
        if (document.addEventListener) {
            window.addEventListener('resize', resizeChart);
        }
        else if (document.attachEvent) {
            window.attachEvent('onresize', resizeChart);
        }
        else {
            window.resize = resizeChart;
        }
    </script>


{# !!!>>> SCRIPT FOR Chart number 2 #}
    <script>
    window.onload = function() {

    var chart = new CanvasJS.Chart("chartContainer", {
        theme: "light1", // "light1", "light2", "dark1", "dark2"
        exportEnabled: true,
        animationEnabled: true,
        title: {
            text: "Desktop Browser Market Share in 2016"
        },
        data: [{
            type: "pie",
            startAngle: 25,
            toolTipContent: "<b>{label}</b>: {y}%",
            showInLegend: "true",
            legendText: "{label}",
            indexLabelFontSize: 16,
            indexLabel: "{label} - {y}%",
            dataPoints: [
                { y: 51.08, label: "Chrome" },
                { y: 27.34, label: "Internet Explorer" },
                { y: 10.62, label: "Firefox" },
                { y: 5.02, label: "Microsoft Edge" },
                { y: 4.07, label: "Safari" },
                { y: 1.22, label: "Opera" },
                { y: 0.44, label: "Others" }
            ]
        }]
    });
    chart.render();

    }
    </script>


{# !!!>>> SCRIPT FOR Chart number 3 #}
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">

          // Load the Visualization API and the piechart package.
      google.charts.load('current', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.charts.setOnLoadCallback(drawChart);

      // Callback that creates and populates a data table,
      // instantiates the pie chart, passes in the data and
      // draws it.
      function drawChart() {

      // Create the data table.
      var data = new google.visualization.DataTable();
      data.addColumn('string', 'Topping');
      data.addColumn('number', 'Slices');
      data.addRows([
        ['Mushrooms', 3],
        ['Onions', 1],
        ['Olives', 1],
        ['Zucchini', 1],
        ['Pepperoni', 2]
      ]);

// Set chart options
      var options = {'title':'How Much Pizza I Ate Last Night',
                     'width':400,
                     'height':300};

      // Instantiate and draw our chart, passing in some options.
      var chart = new google.visualization.PieChart(document.getElementById('chart_div'));
      chart.draw(data, options);
    }
    </script>


{# !!!>>> SCRIPT FOR Chart number 4 and 5 #}
<script>
    google.load("visualization", "1", {packages:["corechart"]});
    google.setOnLoadCallback(drawChart1);
    function drawChart1() {
      var data = google.visualization.arrayToDataTable([
        ['Year', 'Sales', 'Expenses'],
        ['2004',  1000,      400],
        ['2005',  1170,      460],
        ['2006',  660,       1120],
        ['2007',  1030,      540]
      ]);

      var options = {
        title: 'Company Performance',
        hAxis: {title: 'Year', titleTextStyle: {color: 'red'}}
     };

    var chart = new google.visualization.ColumnChart(document.getElementById('chart_div1'));
      chart.draw(data, options);
    }

    google.load("visualization", "1", {packages:["corechart"]});
    google.setOnLoadCallback(drawChart2);
    function drawChart2() {
      var data = google.visualization.arrayToDataTable([
        ['Year', 'Sales', 'Expenses'],
        ['2013',  1000,      400],
        ['2014',  1170,      460],
        ['2015',  660,       1120],
        ['2016',  1030,      540]
      ]);

      var options = {
        title: 'Company Performance',
        hAxis: {title: 'Year',  titleTextStyle: {color: '#333'}},
        vAxis: {minValue: 0}
      };

      var chart = new google.visualization.AreaChart(document.getElementById('chart_div2'));
      chart.draw(data, options);
    }

    $(window).resize(function(){
      drawChart1();
      drawChart2();
    });
</script>

{% endblock javascripts %}
